<div class="container my-4">
  <a cButton color="primary" variant="outline" routerLink="../add-edit-Address">
    Add Address
  </a>
</div>


<c-card>
  <c-card-header>
    <strong>Addresses</strong>
  </c-card-header>

  <c-card-body>
    <table cTable striped hover responsive>
      <thead>
        <tr>
          <th>#</th>
          <th>Line 1</th>
          <th>Line 2</th>
          <th>State</th>
          <th>Post Code</th>
          <th>City</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let one of allAddresses; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ one.line_1 }}</td>
          <td>{{ one.line_2 }}</td>
          <td>{{ one.state }}</td>
          <td>{{ one.post_code }}</td>
          <td>{{ one.city }}</td>
          <td>
            <button cButton color="primary" size="sm"
             [routerLink]="['../add-edit-Address']" [queryParams]="{address: one | json}">
              <c-icon name="cil-pencil"></c-icon>
            </button>
            <button cButton (click)="confirmDelete(one)" color="danger" size="sm" class="ms-2">
              <c-icon name="cil-trash"></c-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </c-card-body>
</c-card>


<c-modal [(visible)]="showDeleteModal" [size]="'sm'">
  <c-modal-header>Confirm Delete</c-modal-header>
  <c-modal-body>
    Are you sure you want to delete?
  </c-modal-body>
  <c-modal-footer>
    <button class="btn btn-secondary" (click)="showDeleteModal = false">Cancel</button>
    <button class="btn btn-danger" (click)="deleteAddress(selectedType)">Delete</button>
  </c-modal-footer>
</c-modal>

<!-- Toaster -->
<c-toaster placement="top-end" class="p-3">
  <c-toast (timer)="onTimerChange($event)" (visibleChange)="onVisibleChange($event)" [visible]="toastVisible()"
    [autohide]="autoHideToast()" [delay]="3000">
    <c-toast-header>
      Delete!
    </c-toast-header>
    <c-toast-body>
      <p>{{ toastMessage() }}</p>
      <c-progress thin [value]="percentage()" />
    </c-toast-body>
  </c-toast>
</c-toaster>